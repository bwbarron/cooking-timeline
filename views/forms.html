<div>
    <div class="header">
        <h1 id="title">Thymeline<img src="css/img/chef20.png" alt=""/></h1>

    </div>
    <link rel="icon" href="css/svg/chef20.svg"/>
    <div>
        <h1 id="meal">Your meal:</h1>
        <button id="addDish" class="btn btn-primary" ng-click = "addComponent()">Add Dish</button>
    </div>
    <form class="cooking form-inline" name="cookingInfo" novalidate time-is-present>
        <div class="form-group">
            <div class = "dish-container" ng-repeat = "dish in meal track by $index">

                    <ng-form name = "componentNameForm">
                        <div class="form-section">
                            <input type="text" class="form-control" name="componentName" placeholder = "Enter dish name"
                                   ng-model="meal[$index].name" required/>
                            <button class="btn btn-danger" ng-click = "removeComponent($index)">Remove {{dish.name}}</button>
                            <p class="validation-error" ng-if="componentNameForm.$dirty && componentNameForm.componentName.$error.required">Dish Name is required.</p>
                        </div>
                    </ng-form>

                    <div class="times">
                        <div class="form-section">
                            <label for="prepTime" class="form-group">Prep Time:</label>
                            <input type="text" class="form-control" name="prepTime" id="prepTime" placeholder = "00:00:00" ng-model="meal[$index].prepTime"
                                    pattern="[0-9][0-9][:][0-9][0-9][:][0-9][0-9]"/>
                            <label for="methods" class="form-group">Resource:</label>
                            <select class="form-control" name="methods" id="prepMethods" ng-options = "p as p for p in preps"
                                    ng-model = "meal[$parent.$index].components[$index].prepMethods"></select>
                        </div>

                        <div class="form-section">
                            <label for="cookTime" class="form-group">Cook Time:</label>
                            <input type="text" class="form-control" name="cookTime" id="cookTime" placeholder = "00:00:00" ng-model="meal[$index].cookTime"
                                    pattern="[0-9][0-9][:][0-9][0-9][:][0-9][0-9]"/>
                            <label for="methods" class="form-group">Resource:</label>
                            <select class="form-control" name="methods" id="methods" ng-options = "m as m for m in methods"
                                    ng-model = "meal[$parent.$index].components[$index].method"></select>
                        </div>

                        <div class="form-section">
                            <label for="coolTime" class="form-group">Cooling Time:</label>
                            <input type="text" class="form-control" name="coolTime" id="coolTime" placeholder = "00:00:00" ng-model="meal[$index].coolTime"
                                    pattern="[0-9][0-9][:][0-9][0-9][:][0-9][0-9]"/>
                        </div>
                    <div class="form-section">
                        <p class="validation-error" ng-if="(cookingInfo.$dirty) && (cookingInfo.prepTime.$error.pattern || cookingInfo.cookTime.$error.pattern
                            || cookingInfo.coolTime.$error.pattern)">Times must be in 00:00:00 format.</p>
                        <p class="validation-error" ng-if="cookingInfo.$dirty && cookingInfo.$error.timeIsPresent">Each meal component must have at least one time.</p>
                    </div>

                </div>

            </div>
        </div>
    </form>
    <button class="btn btn-success" id="generate">Generate Cooking Timeline!</button>
</div>